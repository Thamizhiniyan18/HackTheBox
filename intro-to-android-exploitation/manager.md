# Manager

## Overview

Hey everyone, in this write-up we will be solving an HTB challenge Manager.

Link to the challenge: [https://app.hackthebox.com/challenges/283](https://app.hackthebox.com/challenges/283)

Let’s Start!!!!!!

***

## Initial Setup

First download and extract the given file.

From the README.txt file, we can see that the application supports API level 29 or earlier.

<figure><img src="../.gitbook/assets/Untitled (3).png" alt=""><figcaption></figcaption></figure>

Next I used apktool to extract the apk file.

<figure><img src="../.gitbook/assets/Untitled 1 (3).png" alt=""><figcaption></figcaption></figure>

After extracting the apk, I first took a look at the `AndroidManifest.xml` file to check whether there is any minimum API level or android version is required to run the app.

<figure><img src="../.gitbook/assets/Untitled 2 (3).png" alt=""><figcaption></figcaption></figure>

There was nothing mentioned about that. So, In my case I installed the apk on an Android 6 / API 23 Virtual Device.

To install the `apk`, I used `adb`.

<figure><img src="../.gitbook/assets/Untitled 3 (3).png" alt=""><figcaption></figcaption></figure>

Next I just take a look at the app and its functionality.

***

## Application Interaction

Initially, when I first Opened the application, it asked for the IP address and port number to connect to the server.

<figure><img src="../.gitbook/assets/Untitled 4 (3).png" alt=""><figcaption></figcaption></figure>

Start the machine instance in HackTheBox and enter the IP address and port number and press connect.

<figure><img src="../.gitbook/assets/Untitled 5 (3).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../.gitbook/assets/Untitled 6 (3).png" alt=""><figcaption></figcaption></figure>

After connecting to the server, the next page is a Login/Register page.

<figure><img src="../.gitbook/assets/Untitled 7 (2).png" alt=""><figcaption></figcaption></figure>

***

## Intercepting Requests

Next, I registered a new user to check the functionality.

I also set up the burp proxy, to intercept the traffic.

For that check this Guide:

{% content-ref url="https://app.gitbook.com/s/7mqWWcMJ2puXtqlIgHfA/" %}
[Burpsuite Proxy Setup for Android](https://app.gitbook.com/s/7mqWWcMJ2puXtqlIgHfA/)
{% endcontent-ref %}

<figure><img src="../.gitbook/assets/Untitled 8 (2).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../.gitbook/assets/Untitled 9 (1).png" alt=""><figcaption></figcaption></figure>

You can see that the register request that is send to the server. After successfully registering the new user, the application shows a Manager page, which contains the ID, Username, Password and Role fields.

In this page only the Password is editable and updatable.

<figure><img src="../.gitbook/assets/Untitled 10 (1).png" alt=""><figcaption></figcaption></figure>

Let’s try to update the password and capture the request to see what details are sent to the server.

<figure><img src="../.gitbook/assets/Untitled 11 (1).png" alt=""><figcaption></figcaption></figure>

You can see that the request is made to `manage.php` , with username and password fields.

***

## Request Tampering

Let’s try to change the admins password by tampering this request. To do that first send this request to the `repeater` tab, and modify the `username` to `admin` and set the password as your wish and send the request.

<figure><img src="../.gitbook/assets/Untitled 12 (1).png" alt=""><figcaption></figcaption></figure>

You can see the response that the password is updated successfully.

Now let’s try to login as admin with the updated credentials.

<figure><img src="../.gitbook/assets/Untitled 13 (1).png" alt=""><figcaption></figcaption></figure>

And we have successfully logged in.

<figure><img src="../.gitbook/assets/Untitled 14 (1).png" alt=""><figcaption></figcaption></figure>

We have successfully obtained the flag. If you can’t able to copy the flag, try to make the login request again using the repeater tab, from the response tab you can copy the flag from the raw response.

Thankyou…..
